<!--pages/backup/backup.wxml-->
<view class="container">
  <!-- 顶部安全区域和返回按钮 -->
  <view class="safe-header">
    <button class="back-btn" bindtap="goBack">返回</button>
  </view>

  <view class="page-header">
    <text class="page-title">任务 导入/导出</text>
  </view>

  <!-- 导入输入框 -->
  <view class="import-section">
    <textarea class="import-textarea" placeholder="在此粘贴导入编码（示例：010a0i04;y10001,020a0b0i,w302040e;0f06;y00d09,A10708;0004030a）" value="{{importInput}}" bindinput="onImportInput" maxlength="100000" show-confirm-bar="false"></textarea>
    <view class="result-meta">
      <text>长度：{{importLength}}</text>
    </view>
  </view>

  <view class="buttons-row">
    <button class="import-btn daily" bindtap="importAll">导入任务</button>
    <button class="export-btn weekly" bindtap="exportAll">导出任务</button>
  </view>

  <view class="buttons-row">
    <button class="import-btn daily" bindtap="importAchievements">导入成就</button>
    <button class="export-btn weekly" bindtap="exportAchievements">导出成就</button>
  </view>

  <view class="buttons-row">
    <button class="import-btn history" bindtap="importHistory">📥 导入历史</button>
    <button class="export-btn history" bindtap="exportHistory">📤 导出历史</button>
  </view>

  <view class="result-section">
    <textarea class="result-textarea" value="{{exportResult}}" disabled maxlength="100000" show-confirm-bar="false" auto-height="false"></textarea>
    <view class="result-meta">
      <text>长度：{{exportLength}}</text>
    </view>
  </view>
</view> 